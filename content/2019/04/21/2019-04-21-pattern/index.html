<!DOCTYPE html>
<html lang="">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords" content="" />
  <meta name="author" content="fuliln" />
  <meta name="description" content="" />
  
  
  <title>
    
      总结一下我使用过的设计模式 
      
      
    
  </title>

  
    <link rel="apple-touch-icon" href="/images/favicon.png">
    <link rel="icon" href="/images/favicon.png">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Roboto:400,400italic,600|Roboto+Mono" rel="stylesheet">

  <!-- hexo site css -->
  
<link rel="stylesheet" href="/content/css/base.css">
<link rel="stylesheet" href="/content/css/common.css">
<link rel="stylesheet" href="/content/iconfont/iconfont.css">


  

  
    
<link rel="stylesheet" href="/content/css/post.css">

  

  <!-- jquery3.3.1 -->
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

  <!-- fancybox -->
  <link href="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.css" rel="stylesheet">
  <script async src="https://cdn.bootcss.com/fancybox/3.5.2/jquery.fancybox.min.js"></script>
  
<script src="/content/js/fancybox.js"></script>


<meta name="generator" content="Hexo 5.4.0"></head>


  <body>
    <div id="app">
      <div class="header">
  <a href="/">LEEDOM</a>
</div>


      <p class="links">
  
    <a title="archives" target="" href="/archives/">
      <i class="iconfont icon-bookmark"></i>
    </a>
  
    <a title="github" target="_blank" href="https://github.com/leedom92/hexo-theme-leedom">
      <i class="iconfont icon-github"></i>
    </a>
  
    <a title="email" target="" href="">
      <i class="iconfont icon-envelope"></i>
    </a>
  
    <a title="facebook" target="" href="">
      <i class="iconfont icon-facebooksquare"></i>
    </a>
  
    <a title="twitter" target="" href="">
      <i class="iconfont icon-twitter"></i>
    </a>
  
    <a title="wechat" target="" href="">
      <i class="iconfont icon-wechat"></i>
    </a>
  
    <a title="weibo" target="" href="">
      <i class="iconfont icon-weibo"></i>
    </a>
  
    <a title="rss" target="_blank" href="/atom.xml">
      <i class="iconfont icon-rss"></i>
    </a>
  
</p>


      <div class="main">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->

<!-- LaTex Display -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    }
  };
</script>

<div class="post">
  <h3 class="date">
    Apr 21, 2019
  </h3>
  <h1>
    总结一下我使用过的设计模式
  </h1>
  <div class="content markdown-body">
    <blockquote>
<p>设计模式是java的精髓所在，深刻的体现了抽象和封装。能否运用好设计模式是衡量一个java程序员水平的重要分水岭，是衡量设计能力的一个综合指标。这里总结一下实际使用过的设计模式。</p>
</blockquote>
<h2 id="到底什么是设计模式"><a href="#到底什么是设计模式" class="headerlink" title="到底什么是设计模式"></a>到底什么是设计模式</h2><p>设计模式并不是软件领域特有的东西，而是一个跨领域的概念。从某种程度上讲，软件其实是对硬件的模拟，设计模式也是从硬件领域借鉴来一系列<em>最佳实践</em>。设计模式存在的意义就是实现代码的<strong>高内聚 ，低耦合 ，可扩展 ，实现代码逻辑的优雅</strong></p>
<p>软件经过多年的发展，前人总结一套设计思想和方法，最终提炼出了5大设计原则和26种设计模式，26种设计模式又可以分成三大类。</p>
<h3 id="五大设计原则"><a href="#五大设计原则" class="headerlink" title="五大设计原则"></a>五大设计原则</h3><ul>
<li>开闭原则（<em>Open Close Principle</em>）</li>
<li>依赖倒置原则（<em>Dependency Inversion Principle</em>）</li>
<li>接口隔离原则（<em>Interface Segregation Principle</em>）</li>
<li>单一职责原则（<em>Single Responsibility Principle</em>）</li>
<li>里氏替换原则（<em>Liskov’s Substitution Principle</em>）</li>
</ul>
<h3 id="设计模式的分类"><a href="#设计模式的分类" class="headerlink" title="设计模式的分类"></a>设计模式的分类</h3><ul>
<li><p>创建型模式</p>
<p><em>Singleton , Factory , Factory Method , Abstract Factory , Builder , Prototype , Object pool</em></p>
<blockquote>
<p>创建型模式将对象的创建过程抽取出来了，优化了系统的结果，增强的系统的扩展性，提高了代码的可读性</p>
</blockquote>
</li>
<li><p>结构型模式</p>
<p><em>Adapter , Bridge , Composite , Decorator , Flyweight , Proxy</em></p>
</li>
<li><p>行为型模式</p>
<p><em>Chain of Responsibility , Command , Interpreter , Iterator , Mediator , Memento , Observer , Strategy , Template Method , Visitor , Null Objects</em></p>
</li>
</ul>
<h2 id="官方资料"><a href="#官方资料" class="headerlink" title="官方资料"></a>官方资料</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.oodesign.com/">最简洁权威的设计模式网站 ：OODesign</a></li>
</ul>
<h2 id="责任链模式"><a href="#责任链模式" class="headerlink" title="责任链模式"></a>责任链模式</h2><h3 id="自己的理解"><a href="#自己的理解" class="headerlink" title="自己的理解"></a>自己的理解</h3><p>通俗的讲，责任链模式就是把逻辑的处理过程交给一个链表来处理，链表的每个节点判断自身是否能处理此逻辑，如果不能处理则交给一下节点，直到有节点能处理为止。对客户客户端来说只用关心头节点</p>
<p><img src="/content/image/zerenlian.png" alt="zerenlianmoshi"></p>
<h3 id="责任链模式的优缺点"><a href="#责任链模式的优缺点" class="headerlink" title="责任链模式的优缺点"></a>责任链模式的优缺点</h3><ul>
<li>优点 : 将数据和处理逻辑分离解耦，能提高代码的可读性，可以写出优雅的代码，提高系统的灵活性</li>
<li>缺点：<em>性能问题</em>，如果链条很长则可能会出现性能问题。调试不方便，在spring中节点是注入的，调试不太方便。</li>
</ul>
<h2 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h2><blockquote>
<p>Factory Pattern</p>
<ul>
<li>creates objects without exposing the instantiation logic to the client.</li>
<li>refers to the newly created object through a common interface</li>
</ul>
</blockquote>
<p>工厂模式</p>
<p><img src="E:\code\myBog\source\image\factorypattern.png"></p>
<h2 id="模板方法模式"><a href="#模板方法模式" class="headerlink" title="模板方法模式"></a>模板方法模式</h2><h2 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h2><p>定义：<em>Separate the  construction of a complex object from its representation ao that the same construction process can create different representations</em>（将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建出不同的表现）</p>
<h2 id="对象池模式"><a href="#对象池模式" class="headerlink" title="对象池模式"></a>对象池模式</h2><p>定义: <em>reuse and share objects that are expensive to create</em> （重用和分享哪些重量级的对象）,<em>Clients of an object pull “feel” like they are owners of a service although the service is shared among many other clients.</em>  （虽然服务端在多个客户端之间分享过这个对象，但是客户端拿到之后感觉就像是它完全拥有了一样），对象池模式可以简单的这样理解：</p>
<ul>
<li>提高效率，资源重用</li>
<li>池化，连接池，线程池就是对象池模式的具体表现</li>
</ul>
<p><img src="E:\code\myBog\source\image\objectspool.png" alt="object pool"></p>
<h2 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h2><p>原型模式也是一个创建型模式，说的是对象的创建不是通过new来进行，而是把已有的对象当做原型来克隆产生。从而达到提高效率的目的。</p>
<p><em>对象在克隆的时候要注意区分<strong>深拷贝</strong>和<strong>浅拷贝</strong>，默认的拷贝方式是浅拷贝</em>。实现深拷贝的方法有这么几种</p>
<ul>
<li>手工赋值，效率比较高，但是代码繁琐。被处理的属性需要实现Cloneable接口</li>
<li>将对象转换为流，然后通过流再转为新的对象，需要实现和Serilizeable接口，可以使用commons-lang包中的SerilizationUtils.copy方法</li>
</ul>
<h2 id="中介者模式"><a href="#中介者模式" class="headerlink" title="中介者模式"></a>中介者模式</h2><p>中介者模式存在的目的就是为了解耦，将原来一对多的复杂依赖关系变成一对一的简单依赖关系。所以中介者模式也叫<em>调停者模式</em>。实际工作中可以类比交通运输的调度中心，也可以类比 <em>MVC框架</em>中的C的作用。当然顾名思义，现实中的中介也是一种中介者</p>
<h3 id="中介者模式的缺点"><a href="#中介者模式的缺点" class="headerlink" title="中介者模式的缺点"></a>中介者模式的缺点</h3><p>中介者模式最大的问题就是，<em>中介者</em> 会随着业务逻辑的增长出现逻辑膨胀，从而使中介者变的臃肿和庞大。</p>

  </div>
  
    
      <a id="older" class="blog-nav" href="/content/2019/03/20/2019-03-20-elasticsearch/">OLDER&nbsp;&gt;</a>
      
        
          <a id="newer" class="blog-nav" href="/content/2019/05/01/2019-05-01-coderebuild/">&lt;&nbsp;NEWER</a>
          
            
</div>
        <div class="footer">
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/leedom92/hexo-theme-leedom">Copyright © Leedom 2021</a>
        
    </div>
  
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/leedom92/hexo-theme-leedom">Theme by Leedom | Powered by Hexo</a>
        
    </div>
  
</div>

      </div>

      <div class="back-to-top hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/content/js/backtotop.js"></script>



      
  <div class="search-icon" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-box">
        <div class="search-title">
          <!-- <span class="search-icon-input">
            <a href="javascript: void(0)">
              <i class="iconfont icon-search"></i>
            </a>
          </span> -->
          
            <input type="text" class="search-input" id="search-input" placeholder="$ grep...">
          
          <span class="search-close-icon" id="search-close-icon">
            <a href="javascript: void(0)">
              <i class="iconfont icon-close"></i>
            </a>
          </span>
        </div>
        <div class="search-result" id="search-result"></div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    // inputArea.onclick = function() {
    //   getSearchFile()
    //   this.onclick = null
    // }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        inputArea.focus()
        getSearchFile()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'><span></ul>";
      // $resultContent.innerHTML = "<ul><span class='local-search-empty'>First search, index file loading, please wait...<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='/" + data_url + "' class='search-result-title'><h2>" + orig_data_title + "</h2></a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<h3 class=\"search-result-abstract\">" + match_content + "...</h3>"
                }
                str += "<hr></li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>No result<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The search.xml file was not found, please refer to：<a href='https://github.com/leedom92/hexo-theme-leedom#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>The request failed, Try to refresh the page or try again later.<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




    </div>
  </body>
</html>
