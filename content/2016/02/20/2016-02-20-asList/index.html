<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="shortcut icon" href="/images/favicon.ico">
    
     
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.2.30/dist/vuetify.min.css" rel="stylesheet">
    
<link rel="stylesheet" href="/content/css/main.css">

    
    







    
    
          

    
    
    
    
    <title>
        
            java易错的知识点汇总 | 水货程序员的笔记
        
    </title>
    
    
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    <div id="app">
        <v-app>
            <v-content id="page">
                <v-container fluid>
                    <v-row>
                        <v-col cols="2" class="d-none d-md-block">
                            <div id="sidebar" class="float-right">
    <a href="/content/" rel="home">
        <v-avatar size=96>
            <img id="logo" src="/images/avatar.webp">     
        </v-avatar> 
    </a>
    <v-divider></v-divider>
    <div class="mini-menu">
        <v-btn icon href="/content/">
            <v-icon>home</v-icon>
        </v-btn>
        <v-btn icon href="/content/categories/">
            <v-icon>folder</v-icon>
        </v-btn>
        <v-btn icon href="/content/tags/">
            <v-icon>bookmark</v-icon>
        </v-btn>
        <v-btn icon @click="SetNightMode">
            <v-icon>{{ nightMode }}</v-icon>
        </v-btn>
    </div>
    <v-list id="main-menu" class="font-weight-bold" flat>
        
            
            <v-list-item href="/content/archives/" link>
            <v-list-item-icon><v-icon>archive</v-icon></v-list-item-icon>
            <v-list-item-content>
                归档
            </v-list-item-content>
            </v-list-item>
        
            
            <v-list-item href="/content/about/" link>
            <v-list-item-icon><v-icon>account_circle</v-icon></v-list-item-icon>
            <v-list-item-content>
                关于
            </v-list-item-content>
            </v-list-item>
        
    </v-list>
    <v-divider></v-divider>
    
        <div class="post-toc">
            <a href="/content/2016/02/20/2016-02-20-asList/" class="toc-header">文章目录</a>
            <div class="toc-content">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#java%E4%B8%AD%E7%9A%84NaN-%E6%97%A0%E7%A9%B7%E5%A4%A7-%E5%BC%82%E5%B8%B8"><span class="toc-number">1.</span> <span class="toc-text">java中的NaN;无穷大;异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-util-Arrays-ArrayList%E4%B8%8Ejava-util-ArrayList%E7%9A%84%E6%9C%89%E5%85%B3%E9%97%AE%E9%A2%98"><span class="toc-number">2.</span> <span class="toc-text">java.util.Arrays.ArrayList与java.util.ArrayList的有关问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java%E4%B8%AD%E7%9A%84-amp-amp-amp-%E8%BF%99%E4%BA%9B%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text">java中的 &amp;&amp;;&amp;;||;|;^ 这些运算符的区别</span></a></li></ol>
            </div>
        </div>
    

    <div id="footer">
        <div class="footer-social">
            
                
                <v-btn icon href="/content/fulin87@sina.com" target="_blank">
                    <v-icon>fas fa-envelope</v-icon>
                </v-btn>
            
                
                <v-btn icon href="https://github.com/fulin87" target="_blank">
                    <v-icon>fab fa-github</v-icon>
                </v-btn>
            
        </div>
        <v-divider></v-divider>
        <div class="footer-content">
            
                <span id="busuanzi_container_site_uv" style="display: none;"> 
                    总访客量 <span id="busuanzi_value_site_uv"></span>
                </span>
                <br>
            
            <span>Theme: <a target="_blank" rel="noopener" href="https://github.com/kb1000fx/hexo-theme-insulin">Insulin</a></span><br>
            <span>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></span><br>
            <span>
                &copy; 2015 - 2021 
                fuliln
            </span>
        </div>
    </div>
</div>

                        </v-col>
                        <v-col cols="12" md="10">
                            <v-row>
  <v-col cols="12" md="8" align-self="end">
    <div id="site-header">
      <div id="site-title">
        <a href="/content/" rel="home">水货程序员的笔记</a>
      </div>
      <div id="site-description"></div>
      <div id="mobile-menu" class="d-block d-md-none">
        <v-text-field label="请输入关键字" data-src="search.xml" v-model="searchHeaderValue" prepend-inner-icon="search" clearable clear-icon="clear" @keydown.enter="EnterSearch(searchHeaderValue,false)"></v-text-field>
        <div class="mobile-mini-menu">
          <v-btn icon href="/">
              <v-icon>home</v-icon>
          </v-btn>
          <v-btn icon href="/categories/">
              <v-icon>folder</v-icon>
          </v-btn>
          <v-btn icon href="/tags/">
              <v-icon>bookmark</v-icon>
          </v-btn>
          <v-btn icon @click="SetNightMode">
              <v-icon>{{ nightMode }}</v-icon>
          </v-btn>
          
            
            <v-btn icon href="/content/archives/">
              <v-icon>archive</v-icon>
            </v-btn>
          
            
            <v-btn icon href="/content/about/">
              <v-icon>account_circle</v-icon>
            </v-btn>
          
        </div>
      </div>    
    </div>
  </v-col>  
  <v-col cols="4" align-self="end" class="d-none d-md-block">
    <v-col align-self="end">
      <v-text-field label="请输入关键字" data-src="search.xml" v-model="searchHeaderValue" prepend-icon="search" clearable clear-icon="clear" @keydown.enter="EnterSearch(searchHeaderValue,false)"></v-text-field>
    </v-col> 
  </v-col>
</v-row>

                            <v-card class="elevation-2 post-card">
    
    
        <div class="post-header">
  <a class="post-header-title font-weight-medium" href="/content/2016/02/20/2016-02-20-asList/">java易错的知识点汇总</a>
  <div class="post-header-meta">   
    <span>
      <v-icon color="">event</v-icon>
      发布于:&nbsp;2016-02-20
    </span>
    <span>
      <v-icon color="">event_available</v-icon>
      更新于:&nbsp;2020-12-15
    </span>
    <span>
      <v-icon color="">folder</v-icon>
      分类于:&nbsp;<a class="category-link" href="/content/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
    </span>
    
    <span>
      <v-icon color="">visibility</v-icon>
      阅读次数:&nbsp;<span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv"></span></span>
    </span>
    
  </div>
</div>

    
    
    
    
    <div class="post-content typo">
        <blockquote>
<p><em>把工作中遇到的一些容易出错的知识点记录整理下来，时间长了就是一笔宝贵的财富，这就是经验…</em></p>
</blockquote>
<h2 id="java中的NaN-无穷大-异常"><a href="#java中的NaN-无穷大-异常" class="headerlink" title="java中的NaN;无穷大;异常"></a>java中的NaN;无穷大;异常</h2><ul>
<li>java中整数除以0将会产生一个异常</li>
<li>浮点数除以0将会产生一个无穷大</li>
<li>负数的平方根就是一个NaN</li>
</ul>
<p> 代码示例</p>
<pre><code>public static void main(String[] args)&#123;
    System.out.println(2.1d/0);
    System.out.println(Math.sqrt(-2));
    System.out.println(1/0);
&#125;
</code></pre>
<p>将输出：</p>
<pre><code>Infinity
NaN
Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero
    at com.fulin.test.test_local.Test4.main(Test4.java:8)
</code></pre>
<h2 id="java-util-Arrays-ArrayList与java-util-ArrayList的有关问题"><a href="#java-util-Arrays-ArrayList与java-util-ArrayList的有关问题" class="headerlink" title="java.util.Arrays.ArrayList与java.util.ArrayList的有关问题"></a>java.util.Arrays.ArrayList与java.util.ArrayList的有关问题</h2><p>问题是这样的，将数组转成List，通常我们习惯这样写成:</p>
<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;1&quot;,&quot;2&quot;);
</code></pre>
<p>于是我们这样就得到了一个<strong>list</strong>,但是这个List的实现类是<strong>java.util.Arrays.ArrayList</strong>(而不是java.util.ArrayList)。</p>
<p>这里需要注意这两个同名但是不同包的类：</p>
<pre><code>java.util.Arrays.ArrayList
java.util.ArrayList
</code></pre>
<p>剖析JDK源代码可以发现:java.util.Arrays.ArrayList继承了java.util.AbstractList这个类，再来看看java.util.AbstractList类是啥样子的？可以发现：</p>
<pre><code>public E set(int index, E element)
public E set(int index, E element)
public E remove(int index)
public void add(int index, E element)  | public boolean add(E e)调用add(int index, E element)
</code></pre>
<p>以上方法的实现全部是抛出UnsupportedOperationException异常。因此有Arrays.asList转换出来的List他其实是一个AbstractList他可以像List一样访问，但是不可其做任何修改操作。</p>
<p>这也说明了，为什么Arrays.asList出来的List，对其做add、remove操作为抛出UnsupportedOperationException异常。</p>
<p>换句话说，其实java.util.Arrays.ArrayList其实只是对数组做了一个装饰，可以看到里面的实现，E get(int index)、E set(int index, E element)等方法都是对数组的操作，他的目的只是提供了可以像访问List那样来访问数组而已。<strong>本质上其实还是一个数组。</strong></p>
<h2 id="java中的-amp-amp-amp-这些运算符的区别"><a href="#java中的-amp-amp-amp-这些运算符的区别" class="headerlink" title="java中的 &amp;&amp;;&amp;;||;|;^ 这些运算符的区别"></a>java中的 &amp;&amp;;&amp;;||;|;^ 这些运算符的区别</h2><p> 如果阅读开源项目的源码,比如FastJson的源码，会发现，大量的使用了 <code>&amp;</code> 和 <code>|</code> 运算符。但是这些运算符一般在我们自己的项目中是很少用的，时间一长就忘记了它的含义。这里总结一下。</p>
<ul>
<li><code>&amp;&amp;</code> 的含义就是逻辑与运算，操作数必须是boolean类型的。</li>
<li><code>||</code> 的含义就是逻辑或运算，操作数必须是boolean类型的。</li>
<li><code>&amp;</code>  的含义就是按位与运算，操作数要么都是boolean类型，要么是char或int或long。</li>
<li><code>|</code>  的含义就是按位或运算，操作数要么都是boolean类型，要么是char或int或long。</li>
<li><code>^</code>  的含义就是按位异或运算，按位进行相同为0，不同为1，操作数要么都是boolean类型，要么是char或int或long。</li>
<li><code>&amp;&amp;</code> 运算符和 <code>||</code> 运算符都是短路运算符。但是 <code>&amp;</code> 运算符 和 <code>|</code> 运算符不是短路运算符，这一点需要注意*</li>
</ul>
<p> 举例如下：</p>
<pre><code>public static void main(String[] args) &#123;
    char a = 2,b = 3;
    int c = 10;
    long d = 100l;
    boolean flagT = true;
    boolean flagF = false;
    System.out.println(a | d);
    System.out.println(a &amp; d);
    System.out.println(b &amp; c);
    System.out.println(a | d);
    System.out.println(flagT &amp; flagF);
    System.out.println(flagT | flagF);
&#125;
</code></pre>
<p> <code>这里说的按位与和按位或就是二进制数的按位与和按位或。</code></p>
<pre><code> ^ 运算符有一个经典运用，来交互两个整数
e ^= f;
f ^= e;
e ^= f;
</code></pre>

    </div>
    <!--文末结束语-->
    
        <div style="text-align:center;color: #ccc;font-size:24px;"> --- 本文结束 <i class="fas fa-heart"></i> The End --- </div>
    
    <!--页脚广告-->
    
    <v-divider></v-divider>
    
    <div class="post-nav">             
        
            <div class="post-nav-button float-left">
                <v-icon>chevron_left</v-icon>
                <a class="font-weight-bold text-left" href="/content/2016/02/25/2016-02-25-grow/">
                    什么是成熟
                </a>
            </div>
              
          
            <div class="post-nav-button float-right">
                <a class="font-weight-bold text-right" href="/content/2015/12/01/2015-12-07-leader/">      
                    如何当好项目小组长
                </a>
                <v-icon>chevron_right</v-icon>
            </div>
        
    </div>
</v-card>



        
                            <div id="mobile-footer" class="d-block d-md-none">
                                <v-divider></v-divider>
                                <div id="mobile-footer-content">
                                    <span>Theme: <a target="_blank" rel="noopener" href="https://github.com/kb1000fx/hexo-theme-insulin">Insulin</a> &nbsp; Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></span><br>
                                    <span> &copy; 2015 - 2021 fuliln</span>
                                </div>
                            </div>                   
                        </v-col>                                            
                    </v-row>
                </v-container>
            </v-content>
        </v-app>
    </div>
    
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
<script src="https://cdn.jsdelivr.net/npm/vuetify@2.2.30"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-base64@3.5.2/base64.min.js"></script>

<script src="/content/js/main.js"></script>




    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>





</body>
</html>